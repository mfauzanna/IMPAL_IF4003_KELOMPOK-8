CREATE TABLE KONSUMEN(
    ID_KONSUMEN VARCHAR2(12) NOT NULL ENABLE,
    NAMA VARCHAR2(20),
    ALAMAT VARCHAR2(50),
    CONSTRAINT KONSUMEN_PK PRIMARY KEY (ID_KONSUMEN) ENABLE
    );

CREATE TABLE AKUN(
    ID_USER VARCHAR2(12),
    ID_KONSUMEN VARCHAR2(12),
    STATUS_KEANGGOTAAN VARCHAR2(10),
    CONSTRAINT AKUN_PK PRIMARY KEY (ID_USER) ENABLE,
    CONSTRAINT AKUN_FK FOREIGN KEY (ID_KONSUMEN)
        REFERENCES  KONSUMEN (ID_KONSUMEN) ON DELETE CASCADE ENABLE
	);

CREATE TABLE PEMILIKLAPANGAN(
    ID_PEMILIKLAPANGAN VARCHAR2(12),
    ID_USER VARCHAR2(12),
    NAMA VARCHAR2(20),
    ALAMAT VARCHAR2(50),
    CONSTRAINT PEMILIKLAPANGAN_PK PRIMARY KEY (ID_PEMILIKLAPANGAN) ENABLE,
    CONSTRAINT PEMILIKLAPANGAN_FK FOREIGN KEY (ID_USER)
        REFERENCES  AKUN (ID_USER) ON DELETE CASCADE ENABLE
	);

CREATE TABLE LAPORAN(
    ID_LAPORAN VARCHAR2(12),
    ID_PEMILIKLAPANGAN VARCHAR2(12),
    LAPORAN_PEMBAYARAN VARCHAR2(20),
    CONSTRAINT LAPORAN_PK PRIMARY KEY (ID_LAPORAN) ENABLE,
    CONSTRAINT LAPORAN_FK FOREIGN KEY (ID_PEMILIKLAPANGAN)
        REFERENCES  PEMILIKLAPANGAN (ID_PEMILIKLAPANGAN) ON DELETE CASCADE ENABLE
	);

CREATE TABLE PEMBAYARAN(
    NO_PEMBAYARAN VARCHAR2(12),
    ID_LAPORAN VARCHAR2(12),
    STATUS_PEMBAYARAN VARCHAR2(10),
    CONSTRAINT PEMBAYARAN_PK PRIMARY KEY (NO_PEMBAYARAN) ENABLE,
    CONSTRAINT PEMBAYARAN_FK FOREIGN KEY (ID_LAPORAN)
        REFERENCES LAPORAN (ID_LAPORAN) ON DELETE CASCADE ENABLE
	);

CREATE TABLE JADWAL(
    ID_JADWAL VARCHAR2(12),
    ID_PEMILIKLAPANGAN VARCHAR2(12),
    WAKTU TIME,
    HARI DATE,
    CONSTRAINT JADWAL_PK PRIMARY KEY (ID_JADWAL) ENABLE,
    CONSTRAINT JADWAL_FK FOREIGN KEY (ID_PEMILIKLAPANGAN)
        REFERENCES  PEMILIKLAPANGAN (ID_PEMILIKLAPANGAN) ON DELETE CASCADE ENABLE
	);

CREATE TABLE LAPANGAN(
    ID_LAPANGAN VARCHAR2(12),
    NO_PEMBAYARAN VARCHAR2(12),
    STATUS_LAPANGAN VARCHAR2(10),
    HARGA_LAPANGAN NUMBER,
    CONSTRAINT LAPANGAN_PK PRIMARY KEY (ID_LAPANGAN) ENABLE,
    CONSTRAINT LAPANGAN_FK FOREIGN KEY (NO_PEMBAYARAN)
        REFERENCES PEMBAYARAN (NO_PEMBAYARAN) ON DELETE CASCADE ENABLE
	);

CREATE TABLE ORDER(
    ID_KONSUMEN VARCHAR2(12),
    ID_LAPANGAN VARCHAR2(12)
    CONSTRAINT ORDER_FK FOREIGN KEY (ID_KONSUMEN)
        REFERENCES  KONSUMEN (ID_KONSUMEN) ON DELETE CASCADE ENABLE,
	CONSTRAINT ORDER_FK2 FOREIGN KEY (ID_LAPANGAN)
        REFERENCES  LAPANGAN (ID_LAPANGAN) ON DELETE CASCADE ENABLE 
    );

CREATE TABLE VIEW(
    ID_KONSUMEN VARCHAR2(12),
    ID_JADWAL VARCHAR2(12),
    CONSTRAINT VIEW_FK FOREIGN KEY (ID_KONSUMEN)
        REFERENCES  KONSUMEN (ID_KONSUMEN) ON DELETE CASCADE ENABLE,
	CONSTRAINT VIEW_FK2 FOREIGN KEY (ID_JADWAL)
        REFERENCES JADWAL (ID_JADWAL) ON DELETE CASCADE ENABLE 
    );

CREATE TABLE KELOLA(
    ID_PEMILIKLAPANGAN VARCHAR2(12),
    ID_LAPANGAN VARCHAR2(12),
    CONSTRAINT KELOLA_FK FOREIGN KEY (ID_PEMILIKLAPANGAN)
        REFERENCES  PEMILIKLAPANGAN (ID_PEMILIKLAPANGAN) ON DELETE CASCADE ENABLE,
	CONSTRAINT KELOLA_FK2 FOREIGN KEY (ID_LAPANGAN)
        REFERENCES  LAPANGAN (ID_LAPANGAN) ON DELETE CASCADE ENABLE 
    );

alter session set nls_date_format= 'dd-mm-yyyy';

alter session set nls_date_language = 'english';

INSERT INTO KONSUMEN VALUES('K001','Naruto','Jalan Konoha');
INSERT INTO KONSUMEN VALUES('K002','Luffy','Jalan East Blue');
INSERT INTO KONSUMEN VALUES('K003','Goku','Jalan Vegeta');
INSERT INTO KONSUMEN VALUES('K004','Shinchan','Jalan jalan');
INSERT INTO KONSUMEN VALUES('K005','Dilan','Sentul');
INSERT INTO KONSUMEN VALUES('K006','Milea','Sentul');
INSERT INTO KONSUMEN VALUES('K008','Song Jong Ki','Dago');
INSERT INTO KONSUMEN VALUES('K009','Fauzan','Dago');
INSERT INTO KONSUMEN VALUES('K010','Naufal','Dago');
INSERT INTO KONSUMEN VALUES('K011','Hanif','Dayeuhkolot');
INSERT INTO KONSUMEN VALUES('K012','Hakim','Jalan Riau');
INSERT INTO KONSUMEN VALUES('K013','Tika','Sukabirus');
INSERT INTO KONSUMEN VALUES('K014','Sita','Sukabirus');
INSERT INTO KONSUMEN VALUES('K015','Ismail','Sukabirus');
INSERT INTO KONSUMEN VALUES('K016','Ishaq','Sukapura');
INSERT INTO KONSUMEN VALUES('K017','Aminah','Sukapura');
INSERT INTO KONSUMEN VALUES('K018','Khadijah','Sukabirus');
INSERT INTO KONSUMEN VALUES('K019','Alifa','Sukabirus');
INSERT INTO KONSUMEN VALUES('K020','Rahil','Sukapura');

INSERT INTO AKUN VALUES('U001','K001','Pemilik Lapangan');
INSERT INTO AKUN VALUES('U002','K002','Penyewa');
INSERT INTO AKUN VALUES('U003','K003','Pemilik Lapangan');
INSERT INTO AKUN VALUES('U004','K004','Pemilik Lapangan');
INSERT INTO AKUN VALUES('U005','K005','Pemilik Lapangan');
INSERT INTO AKUN VALUES('U006','K006','Penyewa');
INSERT INTO AKUN VALUES('U007','K007','Penyewa');
INSERT INTO AKUN VALUES('U008','K008','Penyewa');
INSERT INTO AKUN VALUES('U009','K009','Penyewa');

INSERT INTO PEMILIKLAPANGAN VALUES('P001','K001','Naruto','Jalan Konoha');
INSERT INTO PEMILIKLAPANGAN VALUES('P002','K003','Goku','Jalan Vegeta');
INSERT INTO PEMILIKLAPANGAN VALUES('P003','K004','Shinchan','Jalan jalan');
INSERT INTO PEMILIKLAPANGAN VALUES('P004','K005','Dilan','Sentul');

INSERT INTO LAPORAN VALUES('L001','P001','Lunas');
INSERT INTO LAPORAN VALUES('L002','P002','Lunas');
INSERT INTO LAPORAN VALUES('L003','P003','Belum Lunas');
INSERT INTO LAPORAN VALUES('L004','P004','Belum Lunas');

INSERT INTO PEMBAYARAN VALUES('NP001',L001','Sukses');
INSERT INTO PEMBAYARAN VALUES('NP002','L002','Sukses');
INSERT INTO PEMBAYARAN VALUES('NP003','L003','Waiting');
INSERT INTO PEMBAYARAN VALUES('NP004','L004','Waiting');

INSERT INTO LAPANGAN VALUES('LAP001','NP001','Tersedia','80000');
INSERT INTO LAPANGAN VALUES('LAP002','NP002','Tersedia','89000');
INSERT INTO LAPANGAN VALUES('LAP003','NP003','Tidak Tersedia','780000');
INSERT INTO LAPANGAN VALUES('LAP004','NP004','Tidak Tersedia','95000');

INSERT INTO JADWAL VALUES('J001','P001','13:00:00','01-11-2017');
INSERT INTO JADWAL VALUES('J002','P002','07:00:00','02-11-2017');
INSERT INTO JADWAL VALUES('J003','P003','10:00:00','03-11-2017');
INSERT INTO JADWAL VALUES('J004','P004','15:00:00','04-11-2017');

INSERT INTO ORDER VALUES('K010','LAP001');
INSERT INTO ORDER VALUES('K011','LAP002');

INSERT INTO VIEW VALUES('K010','J001');
INSERT INTO VIEW VALUES('K011','J002');

INSERT INTO KELOLA VALUES('P001','LAP001');
INSERT INTO KELOLA VALUES('P002','LAP002');
INSERT INTO KELOLA VALUES('P003','LAP003');
INSERT INTO KELOLA VALUES('P004','LAP004');
